---
use_case_id: UC-PRD-005
title: 統計的工程管理（SPC）モニタリング
category: Industry-specific
sub_category: Production Quality
complexity_level: Lv4-5
implementation_types:
  - AI Tools
  - Automation
  - RAG
tags:
  - SPC
  - 統計的品質管理
  - 工程監視
  - 異常検知
  - 予防保全
version: 1.0.0
last_updated: 2025-01-15
rag_config:
  knowledge_base_type: 管理図データ・判定基準・対応手順
  embedding_strategy: 時系列パターンと異常兆候の統合チャンキング
  chunk_size: 500
  top_k: 6
  similarity_threshold: 0.78
  sample_content: 管理図テンプレート、異常判定ルール、過去の異常事例と対応記録
---

# 統計的工程管理（SPC）モニタリング

## Overview

製造工程の品質データをリアルタイムで統計的に監視し、異常の兆候を早期に検知するAIシステム。管理図（Xbar-R図、P図等）の自動生成と判定を行い、工程の異常パターンを即座に検出。過去の異常事例と対応策をRAGで参照し、適切な処置をガイドします。品質管理の専門知識がなくても、AIが統計的判定を支援し、工程の安定化と不良の未然防止を実現。手作業による管理図作成とチェックの負担を大幅に軽減します。

## Business Value

- 時間削減: 管理図作成・判定時間を80%削減（日次2時間→24分）
- コスト削減: 工程異常の早期検知により不良コスト年間約800万円削減
- 品質向上: 工程能力指数（Cp/Cpk）の向上、バラツキ25%削減
- その他の効果: 24時間監視による異常の即時検知、データに基づく客観的判断、トレーサビリティ強化

## Required Components

- LLM（GPT-4またはClaude）with データ分析能力
- データ分析ツール（統計計算、管理図生成）
- ベクトルデータベース（異常パターン・対応策格納）
- Difyワークフロー機能
- 生産管理システムまたはIoTセンサーとの連携API
- グラフ生成ライブラリ（Matplotlib、Chart.js等）

## Implementation Steps

1. 測定データの取得方法を設定（自動取得または手動入力）
2. 管理図の種類と管理限界値を設定（工程別、特性別）
3. 異常判定ルールをプロンプトで定義（ウェスタン・エレクトリック・ルール等）
4. 過去の異常事例と対応策をナレッジベースに登録
5. アラート通知設定（メール、チャット等）
6. サンプルデータで判定精度を検証
7. 管理図の自動生成・配信設定
8. 実運用開始、継続的なチューニング

## Sample Prompts

```
以下の測定データから管理図を作成し、工程の状態を判定してください：

データ: {measurement_data}
サンプルサイズ: {sample_size}
管理図タイプ: Xbar-R図

判定基準:
- 管理限界外のデータポイント
- 連続7点の片側への偏り
- 連続6点の増加または減少
- その他異常パターン（ウェスタン・エレクトリック・ルール準拠）

結果として以下を出力：
1. 管理図（視覚化）
2. 工程状態の判定（安定/異常兆候/異常）
3. 検出された異常パターン
4. 推奨される対応アクション
```

```
この工程の管理図に異常傾向が見られます。過去の類似パターンを検索し、原因と対策を提案してください：

{管理図データまたは画像}

異常パターン: 連続9点が中心線の下側
発生工程: {process_name}
製品: {product_name}

過去事例と照合して、考えられる原因トップ3と対策を提示してください。
```

```
今月の全工程のSPCデータを分析し、月次報告書を作成してください：

含める内容:
- 各工程の工程能力指数（Cp, Cpk）
- 異常発生回数と内容
- 改善が見られた工程
- 注意が必要な工程
- 来月の重点管理項目

データは管理図データベースから取得してください。
```

## Data Requirements

- データの種類: 測定データ（時系列）、管理限界値、異常判定ルール、過去の異常事例
- データ量: 各工程最低30サンプル群以上、過去1年分の測定データ推奨
- データ形式: CSV、Excel、データベース直接接続
- データ準備:
  1. 測定データの収集自動化
  2. 管理限界値の初期設定（統計計算）
  3. 異常判定基準の明確化
  4. 過去の異常事例の整理

## Technical Considerations

- システム要件: LLM API（月間5,000リクエスト）、ベクトルDB（5,000エントリー）、データ分析環境
- セキュリティ: 品質データの機密保持、アクセス権限管理
- パフォーマンス: リアルタイム判定（データ受信後30秒以内）、管理図生成5秒以内
- 制限事項:
  - 非正規分布データは適切な変換が必要
  - 工程変更時は管理限界値の再計算が必須
  - 極端な外れ値は事前除外が必要な場合あり
  - 自動判定は補助的なもの、最終判断は担当者が実施
- スケーラビリティ: 最大100工程の同時監視可能

## Reference Links

- https://www.dify.ai/blog/statistical-process-control-ai
- https://quality-control.com/spc-automation
- https://manufacturing-analytics.com/spc-monitoring

## Tags

- SPC
- 統計的品質管理
- 工程監視
- 異常検知
- 予防保全
- 管理図
- 品質管理
- データ分析
