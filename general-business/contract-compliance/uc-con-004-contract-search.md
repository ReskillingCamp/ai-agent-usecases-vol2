---
use_case_id: UC-CON-004
title: 過去契約検索システム
category: General Business
sub_category: Contract & Compliance
complexity_level: Lv4-5
implementation_types:
  - RAG
  - AI Tools
tags:
  - 契約検索
  - ナレッジマネジメント
  - 契約管理
  - 情報検索
  - デューデリジェンス
version: 1.0.0
last_updated: 2025-10-22
rag_config:
  knowledge_base_type: contracts
  embedding_strategy: 契約書全文ベースのチャンキング（契約書、付属資料、変更契約を統合管理）
  chunk_size: 700
  top_k: 8
  similarity_threshold: 0.72
  sample_content: 過去の契約書、契約書別紙・付属資料、変更契約、解約通知、契約台帳
---

# 過去契約検索システム

## Overview

エアウォーターグループが過去に締結した膨大な契約書から、自然言語の質問で必要な情報を瞬時に検索できるAIシステム。「A社との取引条件は？」「製品保証期間が2年以上の契約は？」「自動更新条項がある契約をすべて抽出」といった質問に、RAGで該当する契約書を検索し、関連箇所を抽出して回答します。M&A時のデューデリジェンス、契約更新の管理、類似取引の参照、監査対応などに活用でき、契約書検索時間を90%削減します。

## Business Value

- 時間削減: 契約書検索時間を90%削減（平均30分→3分）
- コスト削減: 法務・営業の検索工数削減により年間約400万円のコスト削減
- 品質向上: 契約情報の即座の把握、過去事例の活用による交渉力向上
- その他の効果: M&A DDの迅速化、契約更新漏れの防止、監査対応の効率化

## Required Components

- LLM（GPT-4、Claude 3.5 Sonnet等）
- ベクトルデータベース（Pinecone, Qdrant, Weaviate等）
- Dify RAG機能
- PDF解析ツール（契約書のテキスト抽出）
- メタデータ管理データベース（契約台帳）
- 検索インターフェース（Web、Slack、Teams）
- OCR（古い紙契約書のデジタル化用）
- アクセス権限管理システム

## Implementation Steps

1. 過去の契約書を収集・整理（紙契約のスキャン・OCR処理）
2. 契約書のカテゴリー分類（取引先別、契約種類別、部門別）
3. メタデータの整備（契約日、相手方、金額、期間、担当者等）
4. 契約書のテキスト抽出と品質確認
5. ナレッジベースに登録（RAG用のembedding作成）
6. 検索プロンプトの設計（自然言語検索、フィルタ検索）
7. 検索インターフェースの構築
8. アクセス権限設定（部門別、役職別）
9. パイロット運用（法務部門でテスト）
10. フィードバック収集と検索精度改善
11. 全社展開と継続的なメンテナンス（新規契約の追加）

## Sample Prompts

```
「{キーワード}」に関連する契約書をすべて検索してください。

【検索条件】
キーワード: {keywords}
期間: {date_range}（オプション）
取引先: {partner_name}（オプション）
契約種類: {contract_type}（オプション）

【出力フォーマット】
各契約書について以下を表示：
1. 契約書名
2. 相手方
3. 契約日
4. 契約期間
5. 主要条件（金額、納期、保証期間等）
6. 該当箇所の引用（キーワードを含む条項）
7. 関連する付属資料・変更契約

結果は関連度の高い順に並べてください。
```

```
以下の条件に該当する契約書を抽出してください。

【抽出条件】
- 契約期間が2025年12月31日までに満了する契約
- 自動更新条項がある契約
- 契約金額が1,000万円以上

【出力】
以下の情報を含むリスト：
- 契約書名
- 相手方
- 契約満了日
- 自動更新の条件（解約通知期限等）
- 更新の要否判断（継続推奨/要検討/終了推奨）
- 次のアクション（解約通知期限、更新交渉開始時期等）

契約満了日が近い順に並べてください。
```

```
この新規契約について、過去の類似契約を検索し、参考情報を提供してください。

【新規契約情報】
相手方: {new_partner_name}
契約種類: {contract_type}
取引内容: {transaction_details}
想定金額: {estimated_amount}

【タスク】
1. 類似の契約を検索（同業種、同規模、同種の取引）
2. 各類似契約について以下を抽出：
   - 取引条件（価格、支払条件、納期等）
   - 品質保証条項
   - 損害賠償条項
   - 特記事項

3. 比較表を作成：
   - 項目別の条件比較
   - 当社にとって有利/不利な点
   - 交渉のポイント

4. 推奨事項：
   - 参考にすべき契約書
   - 避けるべき条項
   - 交渉戦略の提案
```

```
M&A デューデリジェンス用に、対象会社との全契約をリストアップしてください。

【対象会社】
{target_company_name}

【抽出情報】
1. 対象会社との全契約（グループ会社含む）
2. 各契約について：
   - 契約種類
   - 契約日、契約期間
   - 契約金額
   - 主要条件
   - Change of Control条項の有無
   - 解除条件
   - 更新・解約の条件

3. リスク評価：
   - M&A実行時に問題となる条項
   - 再交渉が必要な契約
   - 解約が必要な契約

4. 財務影響の試算：
   - 継続契約の総額
   - 解約時のペナルティ（もしあれば）
   - 再交渉による影響

この情報をDD報告書形式でまとめてください。
```

```
特定の条項を含む契約書を横断検索してください。

【検索条件】
条項の種類: {clause_type}（例：「損害賠償の上限」「自動更新」「独占禁止」等）

【タスク】
1. 該当条項を含む契約書をすべて抽出
2. 条項の内容を比較：
   - 一般的な条項内容
   - 特殊な条項内容
   - 当社に有利/不利な条項

3. 統計分析：
   - 該当契約の件数
   - 条項内容の分布（例：損害賠償上限の分布）
   - 業界別・取引先別の傾向

4. 標準化の推奨：
   - 標準条項として採用すべき内容
   - リスクが高く見直すべき条項

この分析を基に、社内標準契約の改訂提案を作成してください。
```

## Data Requirements

- データの種類:
  - 過去の契約書（すべて）
  - 契約書の付属資料・別紙
  - 変更契約、覚書
  - 解約通知
  - 契約台帳（メタデータ）
- データ量:
  - 契約書: 5,000-10,000件（過去5-10年分）
  - 各契約につき平均10-30ページ
- データ形式: PDF、Word、紙（スキャン・OCR処理）
- データ準備:
  1. 紙契約書のスキャン・OCR処理
  2. 契約書のカテゴリー分類
  3. メタデータの整備（契約台帳の作成・更新）
  4. 重複契約の整理
  5. 古い契約のアーカイブ（有効期限切れ、解約済み）
  6. 機密度の設定（アクセス権限管理用）

## Technical Considerations

- システム要件:
  - LLM API（月間1,000-2,000リクエスト）
  - ベクトルDB（50,000-100,000エントリー）
  - OCRエンジン（古い紙契約書用）
  - 大容量ストレージ（契約書PDF保存用）
- セキュリティ:
  - 契約書の機密性管理（アクセス制御）
  - 部門別・役職別の閲覧権限設定
  - 検索ログの記録（誰が何を検索したか）
  - ダウンロード制限・ウォーターマーク追加
- パフォーマンス:
  - 検索クエリに対して5秒以内に結果を返す
  - 大量検索（100件以上）は1-2分以内
- 制限事項:
  - 手書き契約書やスキャン画像の品質が低い場合は認識精度が低下
  - 古い契約書（戦前等）は対象外
  - 複雑な法的解釈は人間（法務担当者）が実施
  - 英文契約等の外国語契約は精度が限定的（日本語のみ高精度）
- スケーラビリティ: 10,000件以上の契約書管理に対応

## Reference Links

- https://www.dify.ai/use-cases/document-search
- https://docs.anthropic.com/claude/docs/contract-search
- https://www.contractworks.com/

## Tags

- 契約検索
- ナレッジマネジメント
- 契約管理
- 情報検索
- デューデリジェンス
- RAG
- 法務
- 業務効率化
