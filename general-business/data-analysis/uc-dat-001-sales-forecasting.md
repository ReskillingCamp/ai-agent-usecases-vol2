---
use_case_id: UC-DAT-001
title: 売上予測分析システム
category: General Business
sub_category: Data Analysis
complexity_level: Lv4-5
implementation_types:
  - AI Tools
  - Automation
  - RAG
tags:
  - 売上予測
  - データ分析
  - 予測モデル
  - ビジネスインテリジェンス
  - 意思決定支援
version: 1.0.0
last_updated: 2025-10-22
rag_config:
  knowledge_base_type: documents
  embedding_strategy: 時系列データベースのチャンキング（過去の売上データ、市場トレンド、経済指標）
  chunk_size: 600
  top_k: 10
  similarity_threshold: 0.70
  sample_content: 過去の売上実績、市場分析レポート、経済指標、業界トレンド、予測モデルの精度評価
---

# 売上予測分析システム

## Overview

エアウォーターグループの過去の売上データ、市場トレンド、経済指標、季節性などをAIが分析し、将来の売上を予測するシステム。製品別、顧客別、地域別、月次・四半期・年次の多様な粒度で予測を生成し、複数のシナリオ（楽観・基準・悲観）を提示します。予測結果は自然言語で説明され、経営判断や営業戦略の立案に活用可能。予測精度85%以上を実現し、在庫計画、生産計画、営業計画の最適化に貢献します。

## Business Value

- 時間削減: 予測分析時間を80%削減（週次予測: 4時間→48分）
- コスト削減: 在庫最適化により年間約1,000万円のコスト削減、機会損失の低減
- 品質向上: 予測精度85%以上、複数シナリオによるリスク管理
- その他の効果: 意思決定の迅速化、営業戦略の最適化、経営計画の精度向上

## Required Components

- LLM（GPT-4、Claude 3.5 Sonnet等）
- 予測モデル（統計モデル、機械学習モデル）
- ベクトルデータベース（Pinecone, Qdrant, Weaviate等）オプション
- Dify RAG機能（過去の分析レポート参照用）
- データウェアハウス（売上データ、顧客データ等）
- BIツール連携（Tableau、Power BI等）
- 外部データ連携（経済指標、天候データ等）オプション
- 可視化ダッシュボード

## Implementation Steps

1. 売上データの収集と整備（過去3-5年分）
2. 影響要因の特定（季節性、イベント、経済指標、競合動向等）
3. データクレンジングと前処理（欠損値補完、異常値処理）
4. 予測モデルの選定とトレーニング（ARIMA、Prophet、LightGBM等）
5. AIによる予測結果の解釈プロンプト作成
6. 複数シナリオ生成ロジックの構築
7. 予測精度の評価と改善（バックテスト）
8. ダッシュボードの構築（予測結果の可視化）
9. 定期実行の自動化（週次・月次）
10. パイロット運用（特定製品・地域で検証）
11. 全社展開と継続的な改善（モデルの再トレーニング）

## Sample Prompts

```
以下のデータを基に、次の3ヶ月間の売上を予測してください。

【データ】
- 過去3年間の月次売上データ: {historical_sales}
- 製品カテゴリー: {product_category}
- 地域: {region}
- 季節性要因: {seasonality_factors}
- 経済指標: {economic_indicators}

【予測タスク】
1. 次の3ヶ月（2025年11月、12月、2026年1月）の売上予測
2. 予測の信頼区間（90%）
3. 楽観・基準・悲観の3シナリオ

【分析観点】
- 季節性の影響（例：冬季の需要増）
- トレンド（成長/横ばい/減少）
- 特殊要因（イベント、キャンペーン、経済変動等）
- 過去の同時期との比較

【出力フォーマット】
1. 予測サマリー（3-5文で要約）
2. 月別予測値（楽観・基準・悲観）
3. 予測の根拠（主要な影響要因）
4. リスク要因とその影響度
5. 推奨アクション（在庫計画、営業戦略等）
```

```
この製品の売上が前月比で20%減少しました。原因を分析し、今後の見通しを提示してください。

【データ】
製品名: {product_name}
前月売上: {previous_month_sales}
当月売上: {current_month_sales}
減少率: -20%

【分析タスク】
1. 売上減少の原因分析
   - 季節性要因
   - 競合の動向
   - 市場全体のトレンド
   - 社内要因（価格変更、キャンペーン終了等）

2. 過去の類似事例との比較
   - 過去に同様の減少があったか
   - その時の回復パターン

3. 今後の見通し
   - 一時的な減少か、トレンドの変化か
   - 回復の可能性と時期
   - 最悪ケースと最良ケースのシナリオ

4. 推奨アクション
   - 短期的な対策（例：プロモーション強化）
   - 中長期的な対策（例：製品改良、新市場開拓）

【出力】
経営層向けのレポート形式で、わかりやすく説明してください。
```

```
新製品の売上予測を行ってください。過去の類似製品のローンチデータを参考にしてください。

【新製品情報】
製品名: {new_product_name}
価格: {price}
ターゲット市場: {target_market}
ローンチ予定: {launch_date}
マーケティング予算: {marketing_budget}

【参考データ】
- 類似製品A: {product_a_data}（ローンチ後6ヶ月の売上推移）
- 類似製品B: {product_b_data}
- 類似製品C: {product_c_data}

【予測タスク】
1. ローンチ後6ヶ月間の月次売上予測
2. 初年度の年間売上予測
3. 成功/失敗の判断基準
4. 予測の前提条件と不確実性

【シナリオ分析】
- 楽観シナリオ（市場受容が良好）
- 基準シナリオ（平均的な受容）
- 悲観シナリオ（市場受容が低調）

【推奨アクション】
- ローンチ後のモニタリング指標
- 目標未達時の対応策
- 追加投資の判断基準
```

```
売上予測モデルの精度を評価し、改善提案を提示してください。

【評価データ】
- 予測値（過去6ヶ月）: {predicted_values}
- 実績値（過去6ヶ月）: {actual_values}
- 使用したモデル: {model_name}

【評価タスク】
1. 精度指標の計算
   - MAE（平均絶対誤差）
   - RMSE（二乗平均平方根誤差）
   - MAPE（平均絶対パーセント誤差）

2. 誤差の分析
   - 予測が外れたのはいつか（時期の傾向）
   - 過大予測と過小予測のバランス
   - 特定の製品・地域で精度が低くないか

3. 精度が低い原因の特定
   - モデルの限界
   - データ品質の問題
   - 外部要因の考慮不足

4. 改善提案
   - モデルの変更・追加
   - 説明変数の追加（新しいデータソース）
   - 異常値処理の改善
   - 再トレーニングの頻度

【出力】
- 精度評価レポート
- 改善ロードマップ（短期・中期・長期）
```

## Data Requirements

- データの種類:
  - 過去の売上データ（製品別、顧客別、地域別）
  - 顧客データ（購買履歴、顧客属性）
  - 市場データ（市場規模、成長率、競合動向）
  - 経済指標（GDP、景気指数、為替レート等）
  - イベントデータ（キャンペーン、展示会、季節イベント等）
  - 天候データ（気温、降水量等）オプション
- データ量:
  - 売上データ: 最低3年分、推奨5年分
  - 月次または日次粒度
  - 製品数×地域数×時間 のデータポイント
- データ形式: CSV、SQL Database、Excel、BIツール出力
- データ準備:
  1. データクレンジング（欠損値、異常値の処理）
  2. データの統合（複数ソースからの統合）
  3. 特徴量エンジニアリング（季節性、トレンド、ラグ変数等）
  4. トレーニングデータとテストデータの分割

## Technical Considerations

- システム要件:
  - LLM API（月間300-500リクエスト）
  - 予測モデル実行環境（Python、R等）
  - データウェアハウス
  - BIツール（可視化用）
- セキュリティ:
  - 売上データの機密性管理
  - 予測結果へのアクセス制御（経営層、営業管理職のみ）
- パフォーマンス:
  - 月次予測: 5-10分で完了
  - 週次予測: 2-3分で完了
  - リアルタイム予測（オプション）
- 制限事項:
  - 予測は過去データに基づくため、未知の事象（パンデミック等）は予測困難
  - 長期予測（1年以上）は精度が低下
  - 外部要因（競合の動き、規制変更等）は手動で考慮が必要
  - AIの予測は参考情報、最終判断は人間が実施
- スケーラビリティ: 製品1,000アイテム×地域10×月次予測に対応

## Reference Links

- https://facebook.github.io/prophet/
- https://www.dify.ai/use-cases/sales-forecasting
- https://scikit-learn.org/stable/modules/ensemble.html

## Tags

- 売上予測
- データ分析
- 予測モデル
- ビジネスインテリジェンス
- 意思決定支援
- 機械学習
- 時系列分析
- 経営管理
